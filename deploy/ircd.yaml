network:
  name: QuircIRC

datastore:
  path: /ircd/ircd.db
  autoupgrade: true

server:
  name: irc.quirc.chat

  listeners:
    ":8080":
      websocket: true

  # Origins allowed to connect via WebSocket (CORS).
  # Self-hosters: replace with your own client domain, or use "*" to allow all.
  websocket-origins:
    - "https://quirc.chat"
    - "https://quirc.netlify.app"
    - "http://localhost:*"

  enforce-utf8: true
  max-sendq: 96k
  ip-cloaking:
    enabled: true
    netname: quirc

accounts:
  registration:
    enabled: true
    bcrypt-cost: 4
    throttling:
      enabled: true
      duration: 10m
      max-attempts: 30
    email-verification:
      enabled: false
  authentication-enabled: true
  multiclient:
    enabled: true
    allowed-by-default: true
    always-on: opt-in
  bouncer:
    enabled: true
    allowed-by-default: true

# Server operators â€” uncomment and set a password hash to enable.
# Generate a hash:  docker exec <container> /ircd/ergo genpasswd
#
# opers:
#   admin:
#     password: "$2a$04$REPLACE_WITH_HASH_FROM_GENPASSWD"

limits:
  nicklen: 32
  identlen: 20
  realnamelen: 150
  channellen: 64
  awaylen: 390
  kicklen: 390
  topiclen: 390
  monitor-entries: 100
  whowas-entries: 100
  chan-list-modes: 60
  registration-messages: 1024
  multiline:
    max-bytes: 4096
    max-lines: 100

channels:
  default-modes: "+nt"
  max-channels-per-client: 100
  operator-only-creation: false
  registration:
    enabled: true
    max-channels-per-account: 15

history:
  enabled: true
  channel-length: 10000
  client-length: 1000
  chathistory-maxmessages: 1000
  znc-maxmessages: 2048
  restrictions:
    expire-time: 168h
    query-cutoff: none
    grace-period: 1h
  retention:
    allow-individual-delete: false
    cutoff: 168h

logging:
  - method: stderr
    level: info
    type: "*"
